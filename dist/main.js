(()=>{"use strict";const e=function(e,t){const n=document.createElement("div");n.classList.add("search-result");const o=document.createElement("div");o.classList.add("search-result-poster");const c=document.createElement("img");let s="./img/placeholder.jpg";t.image?s=t.image.medium:t.show&&t.show.image&&(s=t.show.image.medium),c.src=s,c.alt="Poster",c.id="poster";const r=document.createElement("h3");r.textContent=t.name||t.show.name||"Title N/A",r.classList.add("title"),r.id="title",o.appendChild(c);const a=document.createElement("div");a.classList.add("search-result-name"),a.appendChild(r);const d=document.createElement("div");d.classList.add("reaction-action");const i=document.createElement("div");i.classList.add("reaction");const l=document.createElement("div");l.classList.add("likes");const u=document.createElement("img");u.src="./assets/like.png",u.alt="Like";const m=document.createElement("div");m.textContent="Like",l.appendChild(u),l.appendChild(m);const h=document.createElement("div");h.classList.add("counter"),h.textContent="",i.appendChild(l),i.appendChild(h);const p=document.createElement("div");p.classList.add("actions");const v=document.createElement("button");v.textContent="Comment",v.classList.add("comment");const y=document.createElement("button");y.textContent="Reservations",y.classList.add("reservation"),p.appendChild(v),p.appendChild(y),d.appendChild(i),d.appendChild(p),n.appendChild(o),n.appendChild(a),n.appendChild(d),e.appendChild(n)},t=document.querySelector("#content");async function n(){try{const n=await fetch("https://api.tvmaze.com/shows"),o=await n.json(),c=Math.floor(200*Math.random());return o.slice(c,c+20).forEach((n=>{e(t,n)})),o}catch(e){return e}}document.querySelector("#home").addEventListener("click",(e=>{e.preventDefault(),t.innerHTML="",n()}));const o=n,c=document.getElementById("content"),s=document.querySelector("header"),r=document.querySelector("content"),a=document.querySelector("footer"),d=document.querySelector(".errorClose"),i=document.querySelector(".errorDialog");function l(e){document.querySelector(".errorMessage").innerText=e,document.querySelector(".errorDialog").style.display="block",s.style.pointerEvents="none",r.style.pointerEvents="none",a.style.pointerEvents="none",document.body.style.overflow="hidden"}d.addEventListener("click",(e=>{e.preventDefault(),i.style.display="none",s.style.pointerEvents="auto",r.style.pointerEvents="auto",a.style.pointerEvents="auto",document.body.style.overflow="auto",o()}));const u=document.querySelector(".hamburger"),m=document.querySelector(".nav-items"),h=document.querySelector("#content");function p(){u.classList.remove("active"),m.classList.remove("active")}document.querySelector(".search-button").addEventListener("click",(t=>{t.preventDefault(),h.innerHTML="",async function(){try{const t=document.getElementById("search").value,n="https://api.tvmaze.com/";if(""!==t){const o=await fetch(`${n}search/shows?q=${t}`),s=await async function(t){const n=await t.json();return t.ok&&0===n.length?(l("No item found."),"No item found."):t.ok?(n.forEach((t=>{e(c,t)})),n):(l(`Error in fetchedData: ${n.Error}`),n.Error)}(o);return s}l("No search input provided.")}catch(e){return l(`${e.message}, unable to complete request.`),e.message}}()}));const v=document.querySelector("#content"),y=void document.querySelectorAll("#tvshows").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),v.innerHTML="",async function(){try{const t=await fetch("https://api.tvmaze.com/shows"),n=await t.json();return n.forEach((t=>{e(v,t)})),n}catch(e){return e}}()}))}));window.addEventListener("load",(()=>{const e=document.querySelector("#loader");e.classList.add("loader-hidden"),e.addEventListener("transitionend",(()=>{document.body.removeChild("loader")}))})),o(),y();const E=document.querySelector(".hamburger"),L=document.querySelectorAll(".nav-link");E.addEventListener("click",(function(){u.classList.toggle("active"),m.classList.toggle("active")})),L.forEach((e=>e.addEventListener("click",p))),window.addEventListener("click",(function(e){e.target.closest(".hamburger")||e.target.closest(".nav-items")||p()}))})();